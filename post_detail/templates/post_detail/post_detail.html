{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid">
    
    <div class="row g-0">
        <div class="col-10 offset-1 text-center">
            {% if "placeholder" not in post.featured_image.url %}
                <img class="m-2 mx-auto d-block detail-img" 
                     style="max-width: 100%; height: auto;" 
                     src="{{ post.featured_image.url }}">
            {% endif %}
            {{ post.content | safe }}
        </div>
    </div>

    <form class="like-form" action="{% url 'post_like' post.slug %}" method="POST">
        {% csrf_token %}
        {% if liked %}
        <button type="submit" class="btn-liked"><i class="fas fa-heart fa-3x liked"></i></button>
        {% else %}
        <button type="submit" class="btn-like"><i class="far fa-heart fa-3x"></i></button>
        {% endif %}
        <span class="likes-count fs-1">{{ post.number_of_likes }}</span>
    </form>
</div>

<!-- Comment Section -->
<div class="container-fluid">
    <div class="row col">
        {% if comments %}
            {% for comment in comments  %}
            <p>- {{ comment.body }}</p>
            {% endfor %}

            {% else %}
            <p>No comments has been posted</p>
        {% endif %}
    </div>
</div>

<!-- Comment Form -->
<form method="post" action="" class="comment-form">
    {% csrf_token %}
    {{ comment_form }}
    <button type="submit" class="btn">Submit</button>
</form>
{% endblock %}